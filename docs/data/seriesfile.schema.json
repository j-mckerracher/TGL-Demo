{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://tgl-results-explorer.local/schemas/seriesfile.schema.json",
  "title": "TGL Results Series File",
  "description": "A series data file containing header metadata and array of (x, y) points with optional metadata.",
  "type": "object",
  "required": ["header", "points"],
  "properties": {
    "header": {
      "type": "object",
      "description": "Metadata for this series.",
      "required": ["datasetId", "metricId", "methodId"],
      "properties": {
        "datasetId": {
          "type": "string",
          "description": "ID of the dataset."
        },
        "metricId": {
          "type": "string",
          "description": "ID of the metric."
        },
        "methodId": {
          "type": "string",
          "description": "ID of the method."
        },
        "presetId": {
          "type": "string",
          "description": "Optional ID of the preset used."
        },
        "xLabel": {
          "type": "string",
          "description": "Optional human-readable label for the x-axis."
        },
        "yLabel": {
          "type": "string",
          "description": "Optional human-readable label for the y-axis."
        },
        "units": {
          "type": "object",
          "description": "Optional mapping of field names to their units.",
          "additionalProperties": {
            "type": "string"
          }
        },
        "provenance": {
          "type": "object",
          "description": "Optional source information and metadata for this series.",
          "properties": {
            "source": {
              "type": "string",
              "description": "Source identifier or URL."
            },
            "license": {
              "type": "string",
              "description": "License identifier (e.g., 'MIT', 'Apache-2.0')."
            },
            "checksum": {
              "type": "string",
              "description": "Optional checksum for data integrity verification."
            },
            "createdAt": {
              "type": "string",
              "description": "ISO 8601 timestamp of when the series was generated."
            },
            "version": {
              "type": "string",
              "description": "Version of the data or generation script."
            }
          },
          "additionalProperties": true
        }
      },
      "additionalProperties": true
    },
    "points": {
      "type": "array",
      "description": "Array of data points in the series.",
      "items": {
        "type": "object",
        "required": ["x", "y"],
        "properties": {
          "x": {
            "type": "number",
            "description": "X-coordinate value."
          },
          "y": {
            "type": "number",
            "description": "Y-coordinate value."
          },
          "xUnit": {
            "type": "string",
            "description": "Optional unit label for x."
          },
          "yUnit": {
            "type": "string",
            "description": "Optional unit label for y."
          },
          "n": {
            "type": "number",
            "description": "Optional count of samples or trials."
          },
          "seed": {
            "type": "number",
            "description": "Optional random seed used to generate this point."
          },
          "ciLo": {
            "type": "number",
            "description": "Optional lower bound of confidence interval."
          },
          "ciHi": {
            "type": "number",
            "description": "Optional upper bound of confidence interval."
          }
        },
        "additionalProperties": true
      }
    }
  },
  "additionalProperties": true
}
