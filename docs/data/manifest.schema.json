{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://tgl-results-explorer.local/schemas/manifest.schema.json",
  "title": "TGL Results Explorer Manifest",
  "description": "Index of datasets, metrics, methods, presets, and series files for the TGL Results Explorer.",
  "type": "object",
  "required": ["version", "datasets", "metrics", "methods", "seriesIndex"],
  "properties": {
    "version": {
      "type": "string",
      "description": "Semantic version of the manifest schema (e.g., '1.0.0')."
    },
    "datasets": {
      "type": "array",
      "description": "List of available datasets.",
      "items": {
        "type": "object",
        "required": ["id", "label"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the dataset."
          },
          "label": {
            "type": "string",
            "description": "Human-readable label for the dataset."
          },
          "tags": {
            "type": "array",
            "description": "Optional tags or categories for the dataset.",
            "items": {
              "type": "string"
            }
          }
        },
        "additionalProperties": true
      }
    },
    "metrics": {
      "type": "array",
      "description": "List of available metrics.",
      "items": {
        "type": "object",
        "required": ["id", "label", "axis"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the metric."
          },
          "label": {
            "type": "string",
            "description": "Human-readable label for the metric."
          },
          "unit": {
            "type": "string",
            "description": "Optional unit of measurement."
          },
          "axis": {
            "type": "string",
            "enum": ["x", "y"],
            "description": "Which axis this metric represents in a 2D plot."
          }
        },
        "additionalProperties": true
      }
    },
    "methods": {
      "type": "array",
      "description": "List of available methods (models or algorithms).",
      "items": {
        "type": "object",
        "required": ["id", "type"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the method."
          },
          "type": {
            "type": "string",
            "enum": ["Primary", "Baseline"],
            "description": "Whether this is a primary method or a baseline for comparison."
          },
          "colorKey": {
            "type": "string",
            "description": "Optional CSS color or color scheme identifier."
          }
        },
        "additionalProperties": true
      }
    },
    "presets": {
      "type": "array",
      "description": "List of preset configurations for methods.",
      "items": {
        "type": "object",
        "required": ["id", "label", "params", "scope"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the preset."
          },
          "label": {
            "type": "string",
            "description": "Human-readable label for the preset."
          },
          "params": {
            "type": "object",
            "description": "Key-value parameters for this preset.",
            "additionalProperties": {
              "type": ["number", "string", "boolean"]
            }
          },
          "scope": {
            "type": "string",
            "enum": ["global", "per-dataset"],
            "description": "Whether this preset applies globally or per dataset."
          }
        },
        "additionalProperties": true
      }
    },
    "seriesIndex": {
      "type": "array",
      "description": "Index mapping (dataset, metric, method, preset) combinations to their series files.",
      "items": {
        "type": "object",
        "required": ["datasetId", "metricId", "methodId", "file"],
        "properties": {
          "datasetId": {
            "type": "string",
            "description": "Reference to a dataset ID."
          },
          "metricId": {
            "type": "string",
            "description": "Reference to a metric ID."
          },
          "methodId": {
            "type": "string",
            "description": "Reference to a method ID."
          },
          "presetId": {
            "type": "string",
            "description": "Optional reference to a preset ID."
          },
          "file": {
            "type": "string",
            "description": "Relative path to the series data file (e.g., 'v0/cifar10/acc_vs_edges/TGL.json')."
          }
        },
        "additionalProperties": true
      }
    }
  },
  "additionalProperties": true
}
